# Cytoid 游戏机制

<!-- Autjor: 冰糖酱-BillZhou233 a.k.a 贵阳市非官方客服娘 -->

这里将会介绍关于 Cytoid 游戏机制的进阶内容。

## 判定 & Rating

!> 本段部分摘录自官方说明《Rating 和你》，原始文字可在 [此处](https://www.bilibili.com/read/cv6536670) 查看。

在 Cytoid 社区讨论中，您或许会经常听到“R 判”或者“Ranked”这类术语，它们是对现版本默认判定模式的一种称呼。相对地，之前版本的默认判定模式（U 判 / Unranked）在 2.0 版本中被称为 __练习模式__ ~~dd 模式~~。为了方便起见，下文中我们将沿用 U 判 / R 判的称呼。

### 判定区间

U 判和 R 判的游戏玩法完全相同，区别只在于 __判定区间和计分方式__。

两种判定模式的具体判定区间参阅下表（单位：ms）：

|判定模式|Perfect（蓝）|Great（黄）|Good（绿）|Bad（红）|Miss（灰）|
|:---:|:---:|:---:|:---:|:---:|:---:|
|Unranked|70|200|400|800|X|
|Ranked|40|70|200|400|X|

当然，一般情况下，您只需要记住：__R 判下的所有判定区间都比 U 判严格一个等级__ 就可以啦！

### Rating

Rating（rt）是用于展现玩家实力的数值。Cytoid 有一套详细的算法来为每位玩家展示他们的实力，但是全部讲出来就太复杂了，所以在这里将会简化一下。

每次使用 R 判游玩一张谱面并提交成功后，游戏会计算一份 __单曲 Rating__，并记录在您的档案库中，用于计算您的 __整体 Rating__。

在 2.0 版本的训练模式中，Kaede 向我们介绍了它们的简明计算公式：

> 单曲 Rating = 一个参数（由精准度决定） * 谱面等级
>
> 整体 Rating =（最高的 30 个单曲 Rating + 最近 60 天中最高的 10 个单曲 Rating）/ 40

以下是该套计算公式的补充说明：

- ？难度的谱面不参与 Rating 计算。
- 对于同一谱面 ID，不同难度的单曲 Rating 分别计算。
- 谱面等级的取值为 1 ~ 16，对应谱面的难度等级（16 对应 15+）。因此，单曲和整体 Rating 的最大值均为 16。
- 用于计算“最高的 30 个单曲 Rating”的谱面 ID（同一难度）__不可重复__。
- 用于计算“最近 60 天中最高的 10 个单曲 Rating”的谱面 ID（同一难度）__不可重复__。
- 在计算整体 Rating 时，“最近 60 天中最高的 10 个单曲 Rating”会进行 __浮动改动__。
  - 在距离结算时间的 0 ~ 30 天内，它不会有任何改变。
  - 在随后的 30 ~ 60 天内，它会额外乘以一个线性参数，从 1 逐渐降为 0。
  - 这意味着，如果您超过一个月没有进行任何游玩，你的 Rating 就会开始持续下降，直到上述公式中的“最近 60 天中最高的 10 个单曲 Rating”归零为止。
  - 同时，只要你在一个月内保持活跃（10 次游玩以上），你的 Rating 就 __不会下降__。所以，记得常来 Cytoid 玩！

想要了解自己的 Rating 是如何计算的？请登入 Cytoid 官网，进入 __工作室 > Cytoid 分析__ 页面，即可查看您的 Rating 计算明细。

## Mods

和很多音游一样，Cytoid 也提供了各种各样的 Mods 来拓展游戏体验，接下来的部分将分类介绍它们（顺序可能与游戏内不同）。

### 自动预览类

!> 该类 Mods 启用时，歌曲结束后将不会显示谱面结算画面而直接返回选曲后的准备界面。

启用 Auto 后将进入自动预览模式，该模式下游戏会自动清除 Note，便于看谱以及录制谱面预览。若 Auto 后注明了 Note 种类，启用后则只会自动清除对应种类的 Note，限定种类的 Auto 可以叠加使用。

### 速度类

- Fast：启用后 Note 更迟出现且出现时动画速度加快。在 Storyboard 指定为下落式方式时加快下落速率。
- Slow：启用后 Note 更早出现且出现时动画速度减慢。在 Storyboard 指定为下落式方式时减慢下落速率。

以上两个 Mods 最多只能激活其中一个，大部分玩家偏向于激活 Fast。除此之外，高级设置中的 __实验性 Note AR__ 由于能够使 Note 在刚出现时更小，也有使 Note 更早出现的副作用。想要了解实验性 Note AR 与 Fast 对速度的相互作用？请参看 [这个视频](https://www.bilibili.com/video/BV1ua4y1a7qT)。

### 镜像类

- Flip X：谱面左右镜像翻转。
- Flip Y：谱面上下镜像翻转。
- Flip All：谱面旋转 180 度 ~~倒打~~。

不能叠加使用 ~~但是可以通过旋转设备的方式叠加 Flip All 和其他两者~~。

### 隐藏类

- No Scanner：隐藏判定线。
- Invisible：隐藏 Note。

可以叠加使用。

### 血条类

相当于 Dynamix 的 Bleed，在基本游戏规则上追加一个血量计，归零时即为游玩失败 ~~你美丽 jajaja~~。

Another 比 Hyper 更加严格，具体规则待补全。

<!-- 客服娘自己也不太清楚，毕竟除了考段没开过血条模式（不过英文 Wiki 好像有说明），补全后请删除该注释 -->

### Sudden Death 类

- FC：不全连，便重开。
- AP：不杀歌，便重开。

不可叠加使用。

## 改变设定

!> 这里的设定选项参考 iOS 2.0.0 正式版，有些选项已在游戏中给出比较清楚的备注，此处不再解说。

### 阿：基本设定 

- CDN 地区：中国大陆对应 [cytoid.cn](//cytoid.cn)，国际对应 [cytoid.io](//cytoid.io)。
- 完成后跳过音乐：开启时游戏会在最后一个 Note 判定结束之后立刻结算，否则会等待音频播放结束再进行结算。
- 全局偏移相关：参见 [开始游戏](/gameplay/how_to_play) 中关于偏移校正的解说。

### 格：游玩设定

- Early / Late 指示器：开启后游玩时将会显示非 Perfect 判定的击中快慢，结算画面中除 Early / Late 计数外还会显示 ATE（平均判定误差）和 STE（标准判定误差）。
- 判定区域调节：越大则 Note 越容易被击中，但也更容易造成挨得太近的多个 Note 由于感应区重叠而无法全部被感应到的情况。
- 边距调节：越正越窄，反之越宽。

### 王：显示设定

!> Storyboard 中有能够改变显示设定的指令，利用这些指令，谱师可以可以无视玩家的显示设定。但 Storyboard 改变的设定只在对应的谱面中生效，不会应用到全局。

- 游玩区域边界：开启后将会出现指示上下边界的虚线，类似于原版。
- 背景不透明度：0% 为全黑，越大则背景越亮。
- Drag / C-Drag 使用内圆颜色：关闭后将会以类似旧版本 Cytoid 的配色方案来填充子锁链 Note（即中间节点）的颜色。

### 朔：高级设定

- 分析器：位于屏幕右下角的帧率指示器。
- Note ID：在 Note 上显示数字编号，便于谱面制作和玩家交流时确定 Note。
- 开发者控制台：控制是否显示屏幕底部的报错信息。
- 实验性 Note AR：使 Note 更早出现且刚出现时更小，常搭配 Fast 使用。
- APPLY LATEST LOCALIZATION：使用最新的本地化文本，需要一定时间且重启后将失效。
